'use client';
import{noSSRError as e}from"../no-ssr/index.mjs";import{noop as n}from"../noop/index.mjs";import{useCallback as t,useSyncExternalStore as o}from"react";const i=new Map;function r(){throw e("useMediaQuery cannot be used on the server without a serverValue")}function d(e,d){return"undefined"==typeof window||i.has(e)||i.set(e,window.matchMedia(e).matches),o(t(t=>(function(e,t){if("undefined"==typeof window)return n;const o=window.matchMedia(e),r=()=>{i.set(e,o.matches),t()};return o.addEventListener("change",r),()=>{o.removeEventListener("change",r)}})(e,t),[e]),()=>{var n;return"undefined"!=typeof window&&(null!==(n=i.get(e))&&void 0!==n?n:window.matchMedia(e).matches)},void 0===d?r:()=>d)}export{d as useMediaQuery};