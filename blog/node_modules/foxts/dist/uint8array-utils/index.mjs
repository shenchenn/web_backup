import{never as e}from"../guard/index.mjs";const r=Uint8Array,t=ArrayBuffer,n=TextDecoder,o=new TextEncoder;function a(e){return o.encode(e)}const u={utf8:new n("utf8")};function c(e,r="utf8"){return u[r]??=new n(r),u[r].decode(e)}function f(e){return r.from(atob(function(e){const r=e.replaceAll("-","+").replaceAll("_","/"),t=(4-r.length%4)%4;return r+"=".repeat(t)}(e)),e=>e.charCodeAt(0))}function i(e,r=!1){let t="";for(let r=0;r<e.length;r+=65535){const n=e.subarray(r,r+65535);t+=btoa(String.fromCharCode.apply(void 0,n))}return r?t.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,""):t}function l(e,t){if(0===e.length)return new r(0);const n=new r(t??=e.reduce((e,r)=>e+r.length,0));let o=0;for(let r=0,t=e.length;r<t;r++){const t=e[r];n.set(t,o),o+=t.length}return n}function s(n){return n instanceof t?new r(n):t.isView(n)?new r(n.buffer,n.byteOffset,n.byteLength):void e(n,"value must be ArrayBuffer or ArrayBufferView")}export{f as base64ToUint8Array,l as concatUint8Arrays,a as stringToUint8Array,s as toUint8Array,i as uint8ArrayToBase64,c as uint8ArrayToString};