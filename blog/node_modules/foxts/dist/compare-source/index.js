"use strict";var t=require("../guard/index.js");function e(r=Object.is){return async function(e,n){if(0===e.length)return!1;const o=e.length;let i=-1;const a=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():Symbol.iterator in n?n[Symbol.iterator]():null;t.invariant(a,"source must be iterable or async iterable");let c=await a.next();if(!c.done){let t=c.value;do{if(++i===o||!r(e[i],t))return!1;t=(c=await a.next()).value}while(!c.done)}return i===o-1}}async function r(t,n,o=Object.is){return e(o)(t,n)}exports.compareSource=r,exports.createCompareSource=e,exports.fileEqualWithCommentComparator=function(t,e){if(0===t.length)return 0===e.length;const r=t.codePointAt(0);return r===e.codePointAt(0)&&(35===r||33===r||t===e)};